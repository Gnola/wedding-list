<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Home</title>
    <link rel="stylesheet" href="/index.css">
    <% for (let i = 0; i < guests.length; i++) { %>
      <% if (guests[i].rsvp === "I'm in!") { %>
        <style> .RSVP<%=guests[i].id%> { color: green;} </style>
      <% } else if (guests[i].rsvp === "Sadly I can't make it") { %>
        <style> .RSVP<%=guests[i].id%> { color: red;} </style>
      <% } else if (guests[i].rsvp === "Not sure yet") {%>
        <style> .RSVP<%=guests[i].id%> { color: blue;} </style>
      <% } %>
    <% } %>
  </head>
  
  <body>
    <!-- HEADER -->
    <div class="HEADER">
      <h1>Wedding Guest List</h1>
      <!-- QUICK GUEST ADD -->
      <div class="QUICK-ADD">
        <h3>Quick Add</h3>
        <form action="/guests" method="POST">
          Name: <input type="text" name="name"><br>
          <input type="submit" value="Add Guest">
        </form>
      </div>
      <!-- Log Out -->
      <a href="/logout">Log Out</a>
    </div><br>

    <!-- GUEST LIST -->
    <div class="GUESTLIST">
      <% for (let i = 0; i < guests.length; i++) { %>
        <!-- GUESTS -->
        <div class="GUESTS">
          <a href="/guests/<%=guests[i].id%>"><%=guests[i].name%></a><br>
          +1: <%=guests[i].plusOne%><br>
          RSVP: <span class="RSVP<%=guests[i].id%>"><%=guests[i].rsvp%></span><br>
          Category: <%=guests[i].category%><br>
            <!-- EDIT Guest -->
          <a href="/guests/<%=guests[i].id%>/edit">Edit</a><br>
            <!-- DELETE Guest -->
          <form class="" action="/guests/<%=guests[i].id%>?_method=DELETE" method="POST">
            <input type="submit" value="DELETE">
          </form> <br>
        </div>
      <% } %>
    </div>

    <div class="BOTTOM">
      <!-- NEW Guest -->
      <a href="/guests/new">Create New</a><br>
    </div>

  </body>
</html>
